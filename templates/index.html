<?php
include "header.html";
?>


<p>
<strong>
This is a solution for the "comments system" task implemented by Alexei Kochetov.
</strong>
</p>


<p>


<ul>
<li><a href="/test.html">Demo page with comments enabled</a></li>
<li><a href="/webpages">List of all registered pages</a></li>
<li><a href="https://github.com/alex-k/goodgames_test1">Sources on github</a></li>

</ul>

</p>

<p>
to add comment script on your page please add this code into it

<pre>

<?php echo htmlspecialchars('
    <div id="Comments"> </div>
    <script type="text/javascript" src="http://test1.phpbee.org/js/comments.js"></script>
    <script type="text/javascript">
        Comments.comments();
    </script>

'); ?>

</pre>

</p>
<p>


you may pass extra options on your need

<pre>


<?php echo htmlspecialchars('
    <div id="commentsplacefolder"> </div>

    <script type="text/javascript" src="http://test1.phpbee.org/js/comments.js"></script>
    <script type="text/javascript" >
        Comments.init({
                page_id: "ytwrweytrweyt",
                target: document.getElementById("commentsplacefolder"),
                data: "http://test1.phpbee.org/",
                data_list : "/comments/list.json?url=",
                data_post : "/comments/post.json?url=",
                tpl: "js/tpl",
                tpl_list : "/list.html",
                tpl_post : "/post.html",
                tpl_form : "/form.html"
                });
        Comments.comments();
    </script>
'); ?>

</pre>
</p>

<p>
To run this script under Apache web server please be ensured you have .htaccess files enabled and rewrite module installed.<br/>
If you run nginx web server you may use config provided below.

<pre>
    server {
        listen   80;
        server_name test1.phpbee.org;


        location / {
            root   /home/www/test1.phpbee.org/public_html;
            index  index.php;
            if (!-e $request_filename) {
                rewrite  ^(.*)$  /index.php last;
            }
        }

        location ~ \.php$ {
            root   /home/www/test1.phpbee.org/public_html;
            if (!-f $request_filename) {
                rewrite  ^(.*)/(.+?)$  $1/ redirect;
            }
            fastcgi_pass   unix:/var/run/php5-fpm.sock;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME  /home/www/test1.phpbee.org/public_html$fastcgi_script_name;
            include fastcgi_params;
        }
    }
</pre>    
</p>

<?php
include "footer.html";
?>
